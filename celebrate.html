<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ITâ€™S A YES ğŸ’˜</title>

<style>
  :root{--pink:#ff2d6f;--pink2:#ff7aa8;}
  body{
    margin:0;font-family:Arial,sans-serif;min-height:100vh;overflow:hidden;color:#fff;
    background:
      radial-gradient(900px 700px at 20% 15%, rgba(255,45,111,.22), transparent 60%),
      radial-gradient(900px 700px at 75% 25%, rgba(255,160,200,.18), transparent 60%),
      #0b1020;
  }

  /* Fireworks canvas behind everything */
  canvas{position:fixed; inset:0; z-index:1;}

  /* Wallpaper photos */
  .wall{position:fixed; inset:0; pointer-events:none; z-index:2;}
  .photo{
    position:absolute;
    border-radius:22px;
    border:3px solid rgba(255,255,255,.18);
    box-shadow:0 28px 90px rgba(0,0,0,.60);
    object-fit:cover;
    opacity:0;
    transform: translateY(-60px) rotate(var(--rStart)) scale(1.08);
    will-change: transform, opacity;
  }
  @keyframes slamSlow{
    0%   {opacity:0; transform: translateY(-90px) rotate(var(--rStart)) scale(1.10);}
    55%  {opacity:1; transform: translateY(12px)  rotate(var(--rMid))   scale(1.01);}
    78%  {transform: translateY(-6px) rotate(var(--rEnd)) scale(1.00);}
    100% {opacity:1; transform: translateY(0) rotate(var(--rEnd)) scale(1.00);}
  }

  /* Contrast shade so text stays readable */
  .shade{position:fixed; inset:0; background:rgba(0,0,0,.22); z-index:3;}

  /* Confetti + hearts above everything */
  .confetti,.hearts{position:fixed; inset:0; pointer-events:none; z-index:6;}
  .confetti span{position:absolute; top:-20px; font-size:20px; animation:fall linear forwards;}
  @keyframes fall{to{transform:translateY(110vh) rotate(720deg);opacity:1}}
  .hearts span{position:absolute; bottom:-30px; font-size:18px; opacity:.9; animation:floatUp linear forwards;}
  @keyframes floatUp{to{transform:translateY(-120vh) translateX(40px);opacity:0}}

  /* Foreground message */
  .center{
    position:fixed; inset:0;
    display:flex; align-items:center; justify-content:center;
    padding:24px;
    z-index:5;
    text-align:center;
  }
  .panel{
    background:rgba(0,0,0,.60);
    border:1px solid rgba(255,255,255,.18);
    border-radius:24px;
    padding:22px 18px;
    backdrop-filter: blur(10px);
    box-shadow:0 22px 70px rgba(0,0,0,.60);
    width:min(680px, 92vw);
  }
  h1{margin:0;font-size:54px;letter-spacing:-.02em}
  p{margin:12px 0 0;max-width:52ch;color:rgba(255,255,255,.90);font-size:16px}
  .grad{background:linear-gradient(135deg,var(--pink),var(--pink2));-webkit-background-clip:text;background-clip:text;color:transparent;}
  .row{font-size:36px;margin-top:14px}
  .hint{margin-top:10px;font-size:12px;color:rgba(255,255,255,.65)}
</style>
</head>

<body>
  <canvas id="fw"></canvas>

  <div class="wall" id="wall"></div>
  <div class="shade"></div>

  <div class="confetti" id="confetti"></div>
  <div class="hearts" id="hearts"></div>

  <div class="center">
    <div class="panel">
      <h1><span class="grad">ITâ€™S A YES!!!</span> ğŸ’˜</h1>
      <p id="msg">Best Valentine ever â¤ï¸</p>
      <div class="row">ğŸ†ğŸ‰ğŸ¥³ğŸ’ğŸ«ğŸŒ¹âœ¨</div>
      <div class="hint">Screenshot this ğŸ˜„</div>
    </div>
  </div>

<script>
  // ---- SETTINGS ----
  const TOTAL_PICS = 13;
  const exts = ["jpeg","jpg"];
  const BUILD = "v2026-02-07-2";
  const SLAM_INTERVAL_MS = 520;     // slower
  const SLAM_ANIM_MS = 900;
  const PHOTO_TARGET_COUNT = 13;    // all on final page
  // -------------------

  const rand = (min,max)=> min + Math.random()*(max-min);

  const n1 = localStorage.getItem("v1") || "Hardik";
  const n2 = localStorage.getItem("v2") || "my love";
  document.getElementById("msg").textContent = `${n2} said YES ğŸ˜­â¤ï¸ Happy Valentineâ€™s, ${n2}! â€” ${n1}`;

  function setPicSrc(img, num, extIndex=0){
    const ext = exts[extIndex];
    img.src = `pic${num}.${ext}?build=${encodeURIComponent(BUILD)}&r=${Math.random().toString(16).slice(2)}`;
    img.onerror = () => {
      if(extIndex + 1 < exts.length) setPicSrc(img, num, extIndex + 1);
      else img.style.display = "none";
    };
  }

  // Shuffle pictures
  const pics = Array.from({length: TOTAL_PICS}, (_,i)=>i+1);
  for(let i=pics.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [pics[i], pics[j]] = [pics[j], pics[i]];
  }
  const chosen = pics.slice(0, PHOTO_TARGET_COUNT);

  // Spread zones across screen
  const zones = [
    {x:8,  y:10},{x:30,y:7},{x:52,y:10},{x:74,y:12},{x:90,y:20},
    {x:12,y:42},{x:38,y:40},{x:62,y:44},{x:86,y:46},
    {x:10,y:76},{x:34,y:82},{x:60,y:80},{x:86,y:82}
  ];

  const wall = document.getElementById("wall");
  let idx = 0;

  function addNextPhoto(){
    if(idx >= chosen.length) return;

    const num = chosen[idx];
    const z = zones[idx % zones.length];

    const img = document.createElement("img");
    img.className = "photo";

    const w = rand(250, 380);
    const h = w * rand(1.05, 1.35);
    img.style.width = w + "px";
    img.style.height = h + "px";
    img.style.left = `calc(${z.x}% - ${w/2}px)`;
    img.style.top  = `calc(${z.y}% - ${h/2}px)`;

    img.style.setProperty("--rStart", `${rand(-22, 22)}deg`);
    img.style.setProperty("--rMid",   `${rand(-8, 8)}deg`);
    img.style.setProperty("--rEnd",   `${rand(-14, 14)}deg`);

    img.style.animation = `slamSlow ${SLAM_ANIM_MS}ms cubic-bezier(.2,1.2,.25,1) forwards`;

    setPicSrc(img, num);
    wall.appendChild(img);

    idx++;
    setTimeout(addNextPhoto, SLAM_INTERVAL_MS);
  }

  addNextPhoto();

  // Confetti
  const conf = document.getElementById("confetti");
  const emojis = ["ğŸ‰","ğŸ¥³","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ«","âœ¨","ğŸ˜","ğŸŒ¹","ğŸ†"];
  for(let i=0;i<110;i++){
    const s = document.createElement("span");
    s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    s.style.left = (Math.random()*100) + "vw";
    s.style.animationDuration = (2.6 + Math.random()*2.8) + "s";
    s.style.animationDelay = (Math.random()*0.25) + "s";
    conf.appendChild(s);
  }

  // Hearts
  const heartsBox = document.getElementById("hearts");
  const hearts = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’•","â¤ï¸"];
  setInterval(() => {
    const s = document.createElement("span");
    s.textContent = hearts[Math.floor(Math.random()*hearts.length)];
    s.style.left = (Math.random()*100) + "vw";
    s.style.animationDuration = (3.5 + Math.random()*2.8) + "s";
    heartsBox.appendChild(s);
    setTimeout(()=>s.remove(), 7000);
  }, 140);

  // Fireworks
  const canvas = document.getElementById("fw");
  const ctx = canvas.getContext("2d");
  function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
  addEventListener("resize", resize); resize();

  const rockets=[], sparks=[];
  function launch(){
    rockets.push({x:rand(0,canvas.width),y:canvas.height+10,vx:rand(-1.2,1.2),vy:rand(-9.5,-12.8),explodeY:rand(canvas.height*.12,canvas.height*.42),life:0});
  }
  function explode(x,y){
    const count=Math.floor(rand(55,95));
    for(let i=0;i<count;i++){
      const a=rand(0,Math.PI*2), sp=rand(1.6,6.4);
      sparks.push({x,y,vx:Math.cos(a)*sp,vy:Math.sin(a)*sp,g:0.07,life:rand(42,84),age:0});
    }
  }
  let last=0;
  function tick(ts){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(ts-last>330){ launch(); last=ts; }
    for(let i=rockets.length-1;i>=0;i--){
      const r=rockets[i]; r.life++; r.x+=r.vx; r.y+=r.vy; r.vy+=0.08;
      ctx.globalAlpha=0.95; ctx.fillStyle="white"; ctx.fillRect(r.x,r.y,2,7);
      if(r.y<=r.explodeY || r.life>210){ explode(r.x,r.y); rockets.splice(i,1); }
    }
    for(let i=sparks.length-1;i>=0;i--){
      const p=sparks[i]; p.age++; p.x+=p.vx; p.y+=p.vy; p.vy+=p.g; p.vx*=0.985; p.vy*=0.985;
      const alpha=Math.max(0,1-(p.age/p.life)); ctx.globalAlpha=alpha;
      const bright=Math.floor(170+85*Math.sin(p.age*0.12));
      ctx.fillStyle=`rgb(${bright},${bright},255)`; ctx.fillRect(p.x,p.y,2,2);
      if(p.age>=p.life) sparks.splice(i,1);
    }
    ctx.globalAlpha=1;
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
</script>
</body>
</html>
