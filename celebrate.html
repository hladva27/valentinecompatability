<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ITâ€™S A YES ğŸ’˜</title>

<style>
  :root{--pink:#ff2d6f;--pink2:#ff7aa8;}
  body{
    margin:0;font-family:Arial,sans-serif;min-height:100vh;overflow:hidden;color:#fff;
    background:
      radial-gradient(900px 700px at 20% 15%, rgba(255,45,111,.22), transparent 60%),
      radial-gradient(900px 700px at 75% 25%, rgba(255,160,200,.18), transparent 60%),
      #0b1020;
  }

  canvas{position:fixed; inset:0; z-index:1;}

  .montage{
    position:fixed; inset:0;
    display:flex; align-items:center; justify-content:center;
    pointer-events:none;
    z-index:2;
  }
  .montage-inner{
    position:relative;
    width:min(1150px, 96vw);
    height:min(760px, 78vh);
  }
  .photo{
    position:absolute;
    border-radius:18px;
    border:3px solid rgba(255,255,255,.16);
    box-shadow:0 26px 90px rgba(0,0,0,.60);
    object-fit:cover;
    opacity:0;
    transform: translateY(-85vh) rotate(-14deg) scale(1.18);
    animation: slam 650ms cubic-bezier(.2,1.4,.25,1) forwards;
    will-change: transform, opacity;
  }
  @keyframes slam{
    0%{opacity:0; transform: translateY(-85vh) rotate(var(--rStart)) scale(1.22);}
    60%{opacity:1; transform: translateY(10px) rotate(var(--rMid)) scale(1.03);}
    78%{transform: translateY(-7px) rotate(var(--rEnd)) scale(1.00);}
    100%{opacity:1; transform: translateY(0) rotate(var(--rEnd)) scale(1.00);}
  }

  .confetti,.hearts{position:fixed; inset:0; pointer-events:none; z-index:4;}
  .confetti span{position:absolute; top:-20px; font-size:20px; animation:fall linear forwards;}
  @keyframes fall{to{transform:translateY(110vh) rotate(720deg);opacity:1}}
  .hearts span{position:absolute; bottom:-30px; font-size:18px; opacity:.9; animation:floatUp linear forwards;}
  @keyframes floatUp{to{transform:translateY(-120vh) translateX(40px);opacity:0}}

  .center{
    position:fixed; inset:0;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    text-align:center; padding:24px;
    z-index:3;
  }
  .panel{
    background:rgba(0,0,0,.58);
    border:1px solid rgba(255,255,255,.18);
    border-radius:24px;
    padding:22px 18px;
    backdrop-filter: blur(10px);
    box-shadow:0 22px 70px rgba(0,0,0,.60);
    width:min(660px, 92vw);
  }
  h1{margin:0;font-size:54px;letter-spacing:-.02em;text-shadow:0 18px 70px rgba(0,0,0,.5)}
  p{margin:12px 0 0;max-width:52ch;color:rgba(255,255,255,.90);font-size:16px}
  .grad{background:linear-gradient(135deg,var(--pink),var(--pink2));-webkit-background-clip:text;background-clip:text;color:transparent;}
  .row{font-size:36px;margin-top:14px}
  .hint{margin-top:10px;font-size:12px;color:rgba(255,255,255,.65)}
</style>
</head>

<body>
  <canvas id="fw"></canvas>

  <div class="montage">
    <div class="montage-inner" id="montage"></div>
  </div>

  <div class="confetti" id="confetti"></div>
  <div class="hearts" id="hearts"></div>

  <div class="center">
    <div class="panel">
      <h1><span class="grad">ITâ€™S A YES!!!</span> ğŸ’˜</h1>
      <p id="msg">Best Valentine ever â¤ï¸</p>
      <div class="row">ğŸ†ğŸ‰ğŸ¥³ğŸ’ğŸ«ğŸŒ¹âœ¨</div>
      <div class="hint">Screenshot this ğŸ˜„</div>
    </div>
  </div>

<script>
  const TOTAL_PICS = 14;
  const SHOW_COUNT = 14;        // slam ALL 14 on the final page
  const SLAM_GAP_MS = 90;

  const n1 = localStorage.getItem("v1") || "Hardik";
  const n2 = localStorage.getItem("v2") || "my love";
  document.getElementById("msg").textContent = `${n2} said YES ğŸ˜­â¤ï¸ Happy Valentineâ€™s, ${n2}! â€” ${n1}`;

  const montage = document.getElementById("montage");
  const rand = (min,max)=> min + Math.random()*(max-min);

  // shuffle pics
  const pics = Array.from({length: TOTAL_PICS}, (_,i)=>i+1);
  for(let i=pics.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [pics[i], pics[j]] = [pics[j], pics[i]];
  }
  const chosen = pics.slice(0, SHOW_COUNT);

  // make more spots so 14 fits well
  const spots = [];
  const cols = 7, rows = 3; // 21 spots
  for(let r=0;r<rows;r++){
    for(let c=0;c<cols;c++){
      spots.push({x: (c+0.5)/cols, y: (r+0.5)/rows});
    }
  }
  for(let i=spots.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [spots[i], spots[j]] = [spots[j], spots[i]];
  }

  chosen.forEach((num, idx) => {
    const img = document.createElement("img");
    img.className = "photo";
    img.src = `pic${num}.jpg`;

    const w = rand(135, 215);
    const h = w * rand(1.18, 1.45);
    img.style.width = w + "px";
    img.style.height = h + "px";

    const s = spots[idx % spots.length];
    const left = (s.x * 100) + rand(-5, 5);
    const top  = (s.y * 100) + rand(-10, 10);

    img.style.left = `calc(${left}% - ${w/2}px)`;
    img.style.top  = `calc(${top}% - ${h/2}px)`;

    img.style.setProperty("--rStart", `${rand(-28, 28)}deg`);
    img.style.setProperty("--rMid",   `${rand(-10, 10)}deg`);
    img.style.setProperty("--rEnd",   `${rand(-18, 18)}deg`);
    img.style.animationDelay = (idx * SLAM_GAP_MS) + "ms";

    montage.appendChild(img);
  });

  // Confetti
  const conf = document.getElementById("confetti");
  const emojis = ["ğŸ‰","ğŸ¥³","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ«","âœ¨","ğŸ˜","ğŸŒ¹","ğŸ†"];
  for(let i=0;i<120;i++){
    const s = document.createElement("span");
    s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    s.style.left = (Math.random()*100) + "vw";
    s.style.animationDuration = (2.6 + Math.random()*2.8) + "s";
    s.style.animationDelay = (Math.random()*0.25) + "s";
    conf.appendChild(s);
  }

  // Hearts
  const heartsBox = document.getElementById("hearts");
  const hearts = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’•","â¤ï¸"];
  setInterval(() => {
    const s = document.createElement("span");
    s.textContent = hearts[Math.floor(Math.random()*hearts.length)];
    s.style.left = (Math.random()*100) + "vw";
    s.style.animationDuration = (3.5 + Math.random()*2.8) + "s";
    heartsBox.appendChild(s);
    setTimeout(()=>s.remove(), 7000);
  }, 140);

  // Fireworks
  const canvas = document.getElementById("fw");
  const ctx = canvas.getContext("2d");
  function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
  addEventListener("resize", resize); resize();

  const rockets=[], sparks=[];
  function launch(){
    rockets.push({x:rand(0,canvas.width),y:canvas.height+10,vx:rand(-1.2,1.2),vy:rand(-9.5,-12.8),explodeY:rand(canvas.height*.12,canvas.height*.42),life:0});
  }
  function explode(x,y){
    const count=Math.floor(rand(55,95));
    for(let i=0;i<count;i++){
      const a=rand(0,Math.PI*2), sp=rand(1.6,6.4);
      sparks.push({x,y,vx:Math.cos(a)*sp,vy:Math.sin(a)*sp,g:0.07,life:rand(42,84),age:0});
    }
  }
  let last=0;
  function tick(ts){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(ts-last>330){ launch(); last=ts; }

    for(let i=rockets.length-1;i>=0;i--){
      const r=rockets[i]; r.life++; r.x+=r.vx; r.y+=r.vy; r.vy+=0.08;
      ctx.globalAlpha=0.95; ctx.fillStyle="white"; ctx.fillRect(r.x,r.y,2,7);
      if(r.y<=r.explodeY || r.life>210){ explode(r.x,r.y); rockets.splice(i,1); }
    }

    for(let i=sparks.length-1;i>=0;i--){
      const p=sparks[i]; p.age++; p.x+=p.vx; p.y+=p.vy; p.vy+=p.g; p.vx*=0.985; p.vy*=0.985;
      const alpha=Math.max(0,1-(p.age/p.life)); ctx.globalAlpha=alpha;
      const bright=Math.floor(170+85*Math.sin(p.age*0.12));
      ctx.fillStyle=`rgb(${bright},${bright},255)`; ctx.fillRect(p.x,p.y,2,2);
      if(p.age>=p.life) sparks.splice(i,1);
    }

    ctx.globalAlpha=1;
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
</script>

</body>
</html>
