<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Compatibility Engine • Analysis</title>

<style>
  body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#0b1020;
    color:white;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:24px;
  }

  .card{
    background:rgba(255,255,255,.08);
    padding:26px;
    border-radius:24px;
    max-width:820px;
    width:100%;
    border:1px solid rgba(255,255,255,.18);
    box-shadow:0 0 50px rgba(0,0,0,.5);
  }

  h1{
    margin:0 0 6px;
    font-size:22px;
  }

  .sub{
    color:#ccc;
    font-size:13px;
    margin-bottom:14px;
  }

  .grid{
    display:grid;
    grid-template-columns:1.2fr .8fr;
    gap:14px;
  }

  @media(max-width:800px){
    .grid{grid-template-columns:1fr}
  }

  .panel{
    background:rgba(0,0,0,.25);
    padding:14px;
    border-radius:18px;
    border:1px solid rgba(255,255,255,.12);
  }

  .kpis{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
  }

  .kpi{
    background:rgba(255,255,255,.05);
    padding:12px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
  }

  .kpi .big{
    font-size:20px;
    font-weight:900;
  }

  .kpi .lab{
    font-size:12px;
    color:#bbb;
    margin-top:6px;
  }

  .bar{
    height:10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.06);
    overflow:hidden;
    margin-top:12px;
  }

  .bar div{
    height:100%;
    width:0%;
    background:#ff2d6f;
    transition:width .4s ease;
  }

  .console{
    height:220px;
    overflow:auto;
    background:rgba(0,0,0,.4);
    padding:10px;
    border-radius:14px;
    font-size:12px;
    border:1px solid rgba(255,255,255,.12);
  }

  .ok{color:#7CFFB2}
  .warn{color:#ffd37c}
</style>
</head>

<body>

<div class="card">

  <h1>Compatibility Engine</h1>
  <div class="sub">Real-time model • Status: Running</div>

  <div class="grid">

    <div class="panel">

      <div class="kpis">
        <div class="kpi">
          <div class="big" id="pair">—</div>
          <div class="lab">Pair</div>
        </div>

        <div class="kpi">
          <div class="big">100%</div>
          <div class="lab">Match Score</div>
        </div>

        <div class="kpi">
          <div class="big" id="eta">~6s</div>
          <div class="lab">ETA</div>
        </div>
      </div>

      <div class="bar">
        <div id="fill"></div>
      </div>

    </div>

    <div class="panel">

      <div class="console" id="console"></div>

    </div>

  </div>

</div>

<script>

const n1 = localStorage.getItem("v1") || "Hardik";
const n2 = localStorage.getItem("v2") || "Valentine";

document.getElementById("pair").textContent = n1 + " + " + n2;

const consoleBox = document.getElementById("console");
const fill = document.getElementById("fill");
const eta = document.getElementById("eta");

const lines = [
  ["[init] Loading model…","ok"],
  ["[data] Normalising names…","ok"],
  ["[feat] Extracting chemistry…","ok"],
  ["[feat] Checking humour match…","ok"],
  ["[feat] Measuring cuddle potential…","ok"],
  ["[warn] Extreme cuteness detected","warn"],
  ["[calc] Probability = 1.0000","ok"],
  ["[result] Match confirmed","ok"],
  ["[handoff] Preparing reveal…","ok"]
];

let i = 0;
let p = 0;

function addLine(text,cls){
  const d = document.createElement("div");
  d.textContent = text;
  d.className = cls;
  consoleBox.appendChild(d);
  consoleBox.scrollTop = consoleBox.scrollHeight;
}

const timer = setInterval(()=>{

  p = Math.min(100, p + 12);
  fill.style.width = p + "%";
  eta.textContent = "~" + Math.max(1, Math.ceil((100-p)/12)) + "s";

  if(i < lines.length){
    addLine(lines[i][0], lines[i][1]);
    i++;
  }

  if(p >= 100){
    clearInterval(timer);

    setTimeout(()=>{
      window.location.href = "valentine.html";
    },700);
  }

},650);

</script>

</body>
</html>
